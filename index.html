<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Truck Helper</title>
  <style>
    html, body { height: 100%; margin: 0; padding: 0; }
    #map { height: 100%; width: 100%; }
  </style>
</head>
<body>

<div id="map"></div>

<script>
  function initMap() {
    // Get user's current location
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        const userLocation = {
          lat: position.coords.latitude,
          lng: position.coords.longitude
        };

        // Show map centered on user's location
        const map = new google.maps.Map(document.getElementById("map"), {
          zoom: 14,
          center: userLocation
        });

        // Add marker for user's location
        new google.maps.Marker({
          position: userLocation,
          map: map,
          title: "You are here"
        });

        // Search for nearby services (e.g., tire repair)
        const service = new google.maps.places.PlacesService(map);
        service.nearbySearch({
          location: userLocation,
          radius: 5000,
          keyword: "tire repair"
        }, function(results, status) {
          if (status === google.maps.places.PlacesServiceStatus.OK) {
            results.forEach(place => {
              new google.maps.Marker({
                position: place.geometry.location,
                map: map,
                title: place.name
              });
            });
          }
        });

      }, function(error) {
        alert("Geolocation failed: " + error.message);
      });
    } else {
      alert("Geolocation is not supported by this browser.");
    }
  }
</script>

<!-- Load Google Maps + Places API -->
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBl7fmiOdu_8hBFFz_DvGwFODiNiwVTANk&libraries=places&callback=initMap">
</script>

</body>
</html>
